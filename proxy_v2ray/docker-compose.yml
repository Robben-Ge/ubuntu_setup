services:
  v2ray:
    image: v2fly/v2fly-core:latest
    container_name: v2ray
    restart: unless-stopped
    ports:
      # 映射 HTTP 代理端口（7890）和 SOCKS5 代理端口（7891）
      - "7890:7890/tcp"
      - "7891:7891/tcp"
      - "7891:7891/udp"
    volumes:
      # 将本地的 config.json 配置文件挂载到容器中
      - ./config.json:/etc/v2ray/config.json:ro
    command: ["run", "-c", "/etc/v2ray/config.json"]
